<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Loots Redirect</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      font-family: "Poppins", Arial, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #ff4d4d, #ff944d);
      color: #fff;
    }

    .card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      padding: 32px 26px;
      border-radius: 16px;
      text-align: center;
      width: 330px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
      animation: fadeIn 0.6s ease-in-out;
    }

    h2 {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 10px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    p {
      font-size: 15px;
      color: #fff;
      opacity: 0.9;
      margin: 6px 0 18px;
    }

    .btn {
      display: inline-block;
      padding: 14px 22px;
      border-radius: 10px;
      background: #fff;
      color: #e53935;
      font-weight: 700;
      text-decoration: none;
      letter-spacing: 0.5px;
      box-shadow: 0 4px 14px rgba(255,255,255,0.3);
      animation: pulse 1.6s infinite;
      transition: transform 0.2s;
    }

    .btn:hover {
      transform: scale(1.08);
    }

    .countdown {
      margin-top: 14px;
      font-size: 15px;
      color: #fff;
      opacity: 0.8;
      font-weight: 600;
    }

    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(10px);}
      to {opacity: 1; transform: translateY(0);}
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(255,255,255,0.4); }
      70% { box-shadow: 0 0 0 12px rgba(255,255,255,0); }
      100% { box-shadow: 0 0 0 0 rgba(255,255,255,0); }
    }
  </style>

  <script>
    (function() {
      const numbers = [
        "916204154483","919046513785","916203581303","918433012238","917351485279",
        "919201143272","919773993672","919990452914","916002839367","916001805362",
        "916001182824","919923441276","919528532702","918819955925","916002938072",
        "916002113619","917510872863","919473623643","917896273219","918296626294",
        "918895823633","919038979748","919914552419","919658829026","919690748208",
        "919119121208","919043044950"
      ];

      const TELEGRAM_URL = "https://t.me/comingLoots";
      const THRESHOLD = 5;
      const WINDOW_MINUTES = 5;

      const KEY_CLICKS = 'linkClicks';
      const KEY_TELE_UNTIL = 'telegramAvailableUntil';
      const now = Date.now();
      const until = parseInt(localStorage.getItem(KEY_TELE_UNTIL)) || 0;

      if (until && now < until) {
        showTelegramUI(until - now);
        return;
      } else if (until && now >= until) {
        localStorage.removeItem(KEY_TELE_UNTIL);
        localStorage.setItem(KEY_CLICKS, '0');
      }

      let clickCount = parseInt(localStorage.getItem(KEY_CLICKS)) || 0;
      clickCount++;
      localStorage.setItem(KEY_CLICKS, clickCount);

      if (clickCount >= THRESHOLD) {
        const newUntil = now + WINDOW_MINUTES * 60 * 1000;
        localStorage.setItem(KEY_TELE_UNTIL, newUntil);
        showTelegramUI(newUntil - now);
      } else {
        const pick = numbers[Math.floor(Math.random() * numbers.length)];
        window.location.replace("https://wa.me/" + pick);
      }

      function showTelegramUI(remainingMs) {
        document.body.innerHTML = `
          <div class="card">
            <h2>üî• Join for More Loots Fast!</h2>
            <p>Exclusive offers are waiting! Don‚Äôt miss out ‚Äî click below üëá</p>
            <a class="btn" href="${TELEGRAM_URL}" target="_blank" rel="noopener">Join Now</a>
            <div class="countdown">Link active for <span id="timer"></span></div>
          </div>
        `;

        const timerEl = document.getElementById('timer');
        const updateTimer = () => {
          remainingMs -= 1000;
          if (remainingMs <= 0) {
            showExpiredUI();
            return;
          }
          const m = Math.floor(remainingMs / 60000);
          const s = Math.floor((remainingMs % 60000) / 1000);
          timerEl.textContent = `${m}:${s.toString().padStart(2,'0')} mins`;
        };

        updateTimer();
        setInterval(updateTimer, 1000);
      }

      function showExpiredUI() {
        localStorage.removeItem(KEY_TELE_UNTIL);
        localStorage.setItem(KEY_CLICKS, '0');
        document.body.innerHTML = `
          <div class="card">
            <h2>‚è∞ Time Expired!</h2>
            <p>Your Telegram link has expired.<br>Click below to try again.</p>
            <a id="retryBtn" class="btn" href="#">Try Again</a>
          </div>
        `;
        document.getElementById('retryBtn').addEventListener('click', (e) => {
          e.preventDefault();
          location.reload();
        });
      }
    })();
  </script>
</head>
<body>
  <p style="font-family:Arial;text-align:center;margin:40px;">Redirecting...</p>
</body>
</html>
